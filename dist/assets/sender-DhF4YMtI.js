import"./style-DGkg00M4.js";import{R as g}from"./utils-DuTNqjJL.js";document.addEventListener("DOMContentLoaded",()=>{const r=new g,e=document.getElementById("video"),n=document.getElementById("output");n.log=t=>{n.textContent=t};const i=document.getElementById("resolution");i.log=t=>{i.textContent=t},r.onEvent=n.log;const d=document.getElementById("torch"),s=["flashlight_off","flashlight_on"];let o=null,c=!1;e.addEventListener("resize",()=>{i.log(`${e.videoWidth} x ${e.videoHeight}`)});const a={video:{facingMode:"environment"}};navigator.mediaDevices.getUserMedia(a).then(t=>{n.log("カメラを起動しました"),e.srcObject=t,o=t.getVideoTracks()[0];const l=o.getCapabilities();d.hidden=!l.torch,r.start(o)}),d.addEventListener("click",()=>{o.applyConstraints({advanced:[{torch:c=!c}]}).then(()=>{d.textContent=s[Number(c)]})})});
